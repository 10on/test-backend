# Тестовое задание по PHP/Backend для потенциального работодателя

Исходное задание перенесено в `Input.md`.

В процессе работы над заданием появлись такие заметки, связанные с БД базой данных:

- Генерацию времени создания пользователя лучше явно описать в базе данных.
- Для колонок `email` и `name` в контексте данной задачи лучше бы подошли HASH индексы (быстрее поиск и проверка на уникальность).
- Для проверки на уникальность я использовал выборку всей строки по строгому равенству, хотя возможно стоило бы ограничиться `COUNT` или даже `EXISTS`.

## Структура проекта

- **Сущность пользователя**: находится в `app/src/Entity/User.php`.
- **Основной функционал**: реализован в `app/src/Service/UserService.php`.
- **Журналирование**: реализовано через декорирование сервиса `UserService` в `app/src/Service/LoggingUserServiceDecorator.php`.

Для журналирования и логирования используется интерфейс PSR логгера без реализации непосредственно логгера.

Для работы с базой данных в ручных тестах использована библиотека [MeekroDB](https://meekro.com). Она не имеет интерфейса для внедрения в проект, поэтому в итоговом коде оставлен интерфейс, дублирующий использованные функции из этого пакета: `app/src/DataBase/DatabaseInterface.php`.

Списки запретных доменов и слов реализовал просто массивами в валидаторе, т.к. было сказано, что с ними можно не заморачиваться.
Понятно, что когда у нас больше нескольких слов лучше использовать файлы конфигураций или БД.

Самым неоднозначным местом проекта считаю валидатор.

# Запуск проекта

Так как проект не имеет финальной реализации некоторых аспектов, то запускать непосредственно нечего :)
Можно только поднять docker-compose, и увидеть приветственное сообщение от index.php.
Но если воспользоваться composer и установить зависимости - будет возможность использовать классы из проекта в index.php

# Тесты

Запускаются стандартным `vendor/bin/phpunit`

Тестируются:
- Сущность пользователя
- Сервис пользователя
- Валидатор

